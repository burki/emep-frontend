<form id="search" class="indexForm exhibitionFilterForm indexForm" action="{{ path(app.request.get('_route')) }}" method="GET">
    {% set filter = listBuilder.queryFilters %}

    <div class="searchbarcontainer">
        <div class="searchbarinputcontainer">
            <input class="text-field-class w-input search-input input-text-search" type="text" name="filter[search]" value="{{ filter.search }}" placeholder="search" />
            <!-- {{ form_widget(form.search) }} -->
            {{ form_widget(form.location.geoname) }}
            {{ form_widget(form.location.type) }}
        </div>

        <div class="searchbuttoncontainer">
            <button type="submit" id="filter_submit" name="filter[submit]" class="submit-button w-button submit-filter-visible">Search</button>
        </div>
    </div>

    {% block filters %}
        {#
        <div class="filters-heading" style="margin-top: 25px;">
            <span style="margin-right: 20px; margin-top: 7px">Filter by:</span>

            {% set entityLabels = {
                'exhibition': 'Exhibition',
                'person': 'Artist',
                'catentry': 'Cat. Entry',
                'venue': 'Venue',
                'organizer': 'Organizing Body'
            } %}

            {% for entity,label in entityLabels %}
                <button type="button" class="btn" data-toggle="collapse" data-target="#filter-panel-{{ entity }}">
                    <span class="glyphicon glyphicon-cog"></span> {{ label }}
                </button>
            {% endfor %}
        </div>
        #}

        <div class="filter-combination-container">
            {% form_theme form 'Search/bootstrap_3_adjusted.html.twig' %}
            <div style="display:none">{{ form_row(form.location.location) }}{# for checkbox filter #}</div>
            {#
            <div id="filter-panel-exhibition" class="collapse filter-panel">
                <div class="panel panel-default">
                    <div class="panel-heading">Filter by Exhibition</div>
                    <div class="panel-body">
                        {{ form_row(form.exhibition.date) }}
                        {{ form_row(form.exhibition.type) }}
                        {{ form_row(form.exhibition.organizer_type) }}
                        {{ form_row(form.exhibition.exhibition) }}
                    </div>
                </div>
            </div>
            <div id="filter-panel-person" class="collapse filter-panel">
                <div class="panel panel-default">
                    <div class="panel-heading">Filter by Artist</div>
                    <div class="panel-body">
                        {{ form_row(form.person.gender) }}
                        {{ form_row(form.person.nationality) }}
                        {{ form_row(form.person.birthdate) }}
                        {{ form_row(form.person.deathdate) }}
                        {{ form_row(form.person.person) }}
                    </div>
                </div>
            </div>
            <div id="filter-panel-catentry" class="collapse filter-panel">
                <div class="panel panel-default">
                    <div class="panel-heading">Filter by Catalogue Entry</div>
                    <div class="panel-body">
                        {{ form_row(form.catentry.type) }}
                        {{ form_row(form.catentry.forsale) }}
                        {{ form_row(form.catentry.price_available) }}
                    </div>
                </div>
            </div>
            <div id="filter-panel-venue" class="collapse filter-panel">
                <div class="panel panel-default">
                    <div class="panel-heading">Filter by Venue</div>
                    <div class="panel-body">
                        {{ form_row(form.location.geoname) }}
                        {{ form_row(form.location.type) }}
                        {{ form_row(form.location.location) }}
                    </div>
                </div>
            </div>
            <div id="filter-panel-organizer" class="collapse filter-panel">
                <div class="panel panel-default">
                    <div class="panel-heading">Filter by Organizing Body</div>
                    <div class="panel-body">
                        {{ form_row(form.organizer.type) }}
                        {{ form_row(form.organizer.organizer) }}
                    </div>
                </div>
            </div>
            #}

            {{ helper.render_active_filters(listBuilder, form, entityLabels) }}
        </div><!-- .filter-combination-container -->
    {% endblock %}
</form>